<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>
        何俊杰的博客
    </title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/css/style/github.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <script src="/js/jquery.min.js"></script>
    <script src="/js/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
    <div class="container">
        <div class="header">
    <!-- <div class="logo">
        <a href="/">何俊杰的博客</a>
    </div> -->
    <div class="logo">
        <img src="/images/logo.png" alt="Logo">
    </div>
    <div class="nav">
        <ul class="menu">
            
                <li class="menu-item">
                    <a href="/" class="menu-item-link">
                        Home
                    </a>
                </li>
            
                <li class="menu-item">
                    <a href="https://github.com/He-Jun-Jie/He-Jun-Jie.github.io" class="menu-item-link">
                        Github
                    </a>
                </li>
                
        </ul>
    </div>
</div>
        <div class="article">
    <!-- <div class="article-title">
        <h2>
            
        </h2>
    </div> -->
    <div class="article-meta">
        <div class="article-date">
            <i class="fas fa-edit"></i>
            2019/04/20 Sat 17:42&nbsp;&nbsp;&nbsp;
            <span class="just-a-temp"><span>
            <i class="fas fa-redo"></i>
            2019/04/20 Sat 17:38
        </span></span></div>
    </div>
    <div class="article-content">
        <p>###json</p>
<p>####1.什么是json数据</p>
<ul>
<li>json是一种具有特定语法的数据格式  </li>
</ul>
<p>####2.json数据的语法</p>
<ul>
<li>一个json数据有且只有一个数据, 这个数据的数据类型必须是json支持的数据类型</li>
</ul>
<p>####3.json支持的数据类型</p>
<ul>
<li>a.数字类型: 包含所有的数字,包括整数、小数;例如: 100, 12.5, -3.14<pre><code>注意：(1)整数前面不能加&apos;+&apos;
           (2)支持科学计数法: 3e2
</code></pre></li>
<li>b.字符串: 使用双引号括起来的数据; 例如：”abc”, “abc123,!”</li>
<li>c.布尔: 只有true和false两个值</li>
<li>d.数组: 相当于python的列表，用[]括起来，多个元素用逗号隔开;例如: [100, “abc”, [1, 2]]  </li>
<li>e.字典: 相当于python的字典, 用{}括起来，多个键值对用逗号隔开, 例如:{“a”: 10, “b”: 20, “c”: [1, 3]}</li>
<li>f.空值: null,相当于python中的None    </li>
</ul>
<p>####4.python处理json数据</p>
<p>####python中提供了json模块，专门用来处理json数据</p>
<p>####1, 将json数据转换成python数据(通过爬虫获取到别人提供的json数据,在python中处理)</p>
<ul>
<li><p>a.转换方式<br>json      –&gt;       python<br>数字                 int/float<br>字符串               str, 可能双引号会变成单引号<br>布尔                 bool, 会将json中的true/false转换成True/False<br>数组                 list<br>字典                 dict<br>空值(null)           None</p>
</li>
<li><p>b.loads方法<br>loads(字符串, encoding=’utf-8’)  - 将字符串中的json数据转换成对应的python数据<br>!!!!!!!!注意: 这儿的字符串中!!!内容!!!!必须json数据</p>
</li>
</ul>
<p>####2,将python数据转换成json数据(python写后台接口将数据提供给客户端)</p>
<ul>
<li>a.转换方式<br>python     —&gt;     json<br>int/float            数字<br>str                  字符串, 单引号会变成双引号<br>bool                 True-&gt;true; False-&gt;false<br>list/tuple           数组<br>dict                 字典<br>None                 null</li>
</ul>
<ul>
<li>b.dumps(对象) -  将指定的对象转换成json数据, 以字符串的形式返回<pre><code>这儿的对象指的就是python数据
</code></pre>注意: 返回值是字符串,并且字符串的!!!!内容!!!!是json数据</li>
</ul>
<p>####5.json文件处理<br>严格来说，json文件是文件内容是json数据的文件</p>
<ul>
<li><p>load(文件对象)  -  将指定文件中的内容读出来，并且转换成python对应的数据。</p>
<pre><code>注意：这儿的文件对象对应的文件必须是json文件
</code></pre></li>
<li><p>dump(对象, 文件对象)  - 将指定对象转换成内容是json格式的字符串，然后写入指定的文件中</p>
<pre><code>注意：这儿的对象对应的类型必须是能够转换成json的数据类型
</code></pre></li>
</ul>
<p>####import json（导入json模块）</p>
<p>####def main():（格式，方便整段代码以后带入其他代码内）</p>
<p>####======3.读json文件========</p>
<pre><code>with open(&apos;data.json&apos;, encoding=&apos;utf-8&apos;) as f:
    result = json.load(f)   # 相当于 result = json.loads(f.read())
    print(type(result), result[&apos;msg&apos;])

all_student = [
    {&apos;name&apos;: &apos;小明&apos;, &apos;age&apos;: 12, &apos;tel&apos;: &apos;1237736&apos;},
    {&apos;name&apos;: &apos;yuting&apos;, &apos;age&apos;: 18, &apos;tel&apos;: &apos;23333&apos;},
    {&apos;name&apos;: &apos;Luffy&apos;, &apos;age&apos;: 20, &apos;tel&apos;: None},
    {&apos;name&apos;: &apos;zuoLuo&apos;, &apos;age&apos;: 30, &apos;tel&apos;: &apos;923736&apos;},
]
with open(&apos;student.json&apos;, &apos;w&apos;, encoding=&apos;utf-8&apos;) as f:
    json.dump(all_student, f)  # 相当于 f.write(json.dumps(all_student))

print(&apos; ===============2.python转json===============&apos;)
result = json.dumps(100.23)
print(type(result), result)    # &apos;100.23&apos;

result = json.dumps(&apos;abc&apos;)
print(type(result), result)  # &apos;&quot;abc&quot;&apos;

result = json.dumps(True)
print(type(result), result)  # &apos;true&apos;

result = json.dumps([10, &apos;abc&apos;, True, None])
print(type(result), result)  # &apos;[10, &quot;abc&quot;, true, null]&apos;

result = json.dumps((10, &apos;abc&apos;, True, None))
print(type(result), result)  # &apos;[10, &quot;abc&quot;, true, null]&apos;

result = json.dumps({&apos;a&apos;: 10, &apos;b&apos;: &apos;abc&apos;, &apos;c&apos;: True, &apos;d&apos;: None})
print(type(result), result)  # &apos;{&quot;a&quot;: 10, &quot;b&quot;: &quot;abc&quot;, &quot;c&quot;: true, &quot;d&quot;: null}&apos;

# 集合不能转换成json数据
# result = json.dumps({10, &apos;abc&apos;, True, None})
# print(type(result), result)  # &apos;[10, &quot;abc&quot;, true, null]&apos;


# ===============1.json转python===============
print(&apos;===========================&apos;)
# 将json中的字符串转换成python数据
content = json.loads(&apos;&quot;abc&quot;&apos;, encoding=&apos;utf-8&apos;)
print(content, type(content))   # abc &lt;class &apos;str&apos;&gt;

# 将json中的数字转换成python数据
content = json.loads(&apos;100&apos;, encoding=&apos;utf-8&apos;)
print(content, type(content))

# 将json中的字典转换成python数据
message = &apos;{&quot;name&quot;: &quot;张三&quot;, &quot;age&quot;: 18, &quot;sex&quot;: null, &quot;marry&quot;: true}&apos;
content = json.loads(message, encoding=&apos;utf-8&apos;)
print(content, type(content))
print(content[&apos;name&apos;])

# 练习1
with open(&apos;data.json&apos;, encoding=&apos;utf-8&apos;) as f:
    info = f.read()
    # print(type(info), info)
    dict1 = json.loads(info, encoding=&apos;utf-8&apos;)
    for item in dict1[&apos;data&apos;]:
        print(item[&apos;url&apos;])
</code></pre><p><img src="https://upload-images.jianshu.io/upload_images/15578463-310898a1e7634998.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="
"></p>
<p><img src="https://upload-images.jianshu.io/upload_images/15578463-9ce61a1db5511c6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<ul>
<li>用一个列表保存多个学生的信息.写函数向这个列表</li>
<li>中添加学生(姓名、年龄、成绩)。</li>
<li>要求之前添加过的学生，下次运行程序的时候还在<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">all_student = 空</span><br><span class="line">add_student()</span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def add_student(list1: list):</span><br><span class="line">    name = input(&apos;姓名:&apos;)</span><br><span class="line">    age = int(input(&apos;年龄:&apos;))</span><br><span class="line">    score = float(input(&apos;成绩:&apos;))</span><br><span class="line">    list1.append(&#123;&apos;name&apos;: name, &apos;age&apos;: age, &apos;score&apos;: score&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    # 获取数据</span><br><span class="line">    # all_student = []</span><br><span class="line">    with open(&apos;allStudent.json&apos;, encoding=&apos;utf-8&apos;) as f:</span><br><span class="line">        all_student = json.load(f)</span><br><span class="line">        # all_student = [&#123;&#125;, &#123;&#125;]</span><br><span class="line"></span><br><span class="line">    add_student(all_student)</span><br><span class="line">    add_student(all_student)</span><br><span class="line">    # all_student = [&#123;&#125;, &#123;&#125;, &#123;&#125;, &#123;&#125;]</span><br><span class="line"></span><br><span class="line">    # 更新数据</span><br><span class="line">    with open(&apos;allStudent.json&apos;, &apos;w&apos;, encoding=&apos;utf-8&apos;) as f:</span><br><span class="line">        json.dump(all_student, f)</span><br><span class="line"></span><br><span class="line">    print(all_student)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
</li>
</ul>

    </div>

    <div class="totop">ToTOP</div>
</div>
        <div class="footer">
    <a href="#">
        2018 <i class="fab fa-studiovinari"></i> John Doe <i class="fas fa-angle-double-up"></i>
    </a>
</div>

<script src="/js/totop.js"></script>
<script src="/js/search.js"></script>
    </div>
</body>

</html>