<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>
        何俊杰的博客
    </title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="/css/style/github.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <script src="/js/jquery.min.js"></script>
    <script src="/js/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
    <div class="container">
        <div class="header">
    <!-- <div class="logo">
        <a href="/">何俊杰的博客</a>
    </div> -->
    <div class="logo">
        <img src="/images/logo.png" alt="Logo">
    </div>
    <div class="nav">
        <ul class="menu">
            
                <li class="menu-item">
                    <a href="/" class="menu-item-link">
                        Home
                    </a>
                </li>
            
                <li class="menu-item">
                    <a href="https://github.com/He-Jun-Jie/He-Jun-Jie.github.io" class="menu-item-link">
                        Github
                    </a>
                </li>
                
        </ul>
    </div>
</div>
        <div class="article">
    <!-- <div class="article-title">
        <h2>
            
        </h2>
    </div> -->
    <div class="article-meta">
        <div class="article-date">
            <i class="fas fa-edit"></i>
            2019/04/20 Sat 17:42&nbsp;&nbsp;&nbsp;
            <span class="just-a-temp"><span>
            <i class="fas fa-redo"></i>
            2019/04/20 Sat 17:38
        </span></span></div>
    </div>
    <div class="article-content">
        <p><strong>1.异常捕获 - 让本该报错的代码不报错</strong><br>你知道某段代码会出现异常，而且没有办法避免，同时又希望出现异常的时候程序不奔溃；<br>这个时候就可以通过异常捕获，来让程序不奔溃并且自行处理异常  </p>
<ul>
<li>2.异常捕获语法<br><strong>a. try-except  (可以捕获所有类型的异常 - 只要代码段1中出现了异常就捕获)</strong><br><strong>try:<br>  代码段1(可能会出现异常的代码段)<br>except:<br>  代码段2(出现异常后处理异常的代码段)</strong></li>
</ul>
<p><strong>其他语句</strong></p>
<p><strong>执行过程: 执行代码段1，如果代码段1中出现异常，程序不奔溃，直接执行代码段2。</strong><br>        <strong> 如果代码段1中没有出现异常，不执行代码段2而是直接执行后面的其他语句</strong></p>
<ul>
<li><p>b. try - except 错误类型   (捕获指定类型的异常 - 只有代码段1中出现了指定类型的异常才捕获)<br><strong>try:<br>  代码段1(可能会出现异常的代码段)<br>except 错误类型:<br>  代码段2(出现异常后处理异常的代码段)*</strong></p>
</li>
<li><p>c.try - except (错误类型1,错误类型2…)  (同时捕获多种指定异常)<br><strong>try:<br>  代码段1(可能会出现异常的代码段)<br>except (错误类型1,错误类型2…):<br>  代码段2(出现异常后处理异常的代码段)</strong></p>
</li>
<li><p>d.try-except 错误类型1 - except 错误类型2…  (同时捕获多种异常，可以对不同的异常做不同的处理)<br><strong>try:<br>  代码段1(可能会出现异常的代码段)<br>except 错误类型1:<br>  代码段2<br>except 错误类型2:<br>  代码段3</strong><br>…</p>
</li>
<li><p>3.抛出异常 - 主动让程序奔溃</p>
</li>
</ul>
<p>#####raise 错误类型   - 程序执行到这句代码就出现指定类型的异常!</p>
<p>说明：错误类型 - 可以是系统提供的错误类型, 也可以是自定义错误类型(要求这个值必须是一个类，而且是Exception的子类)</p>
<h4 id="自定义错误类型"><a href="#自定义错误类型" class="headerlink" title="自定义错误类型"></a>自定义错误类型</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">class YTValueError(Exception):</span><br><span class="line">    def __str__(self):</span><br><span class="line">        return &apos;给的值不满足要求!&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def yt_function(age: int):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    age必须小于18!!!</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    if age &gt; 18:</span><br><span class="line">        raise YTValueError</span><br><span class="line">    print(age)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">yt_function(20)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def method3():</span><br><span class="line">    print(&apos;==============2.try-except 错误类型1-except 错误类型2...===========&apos;)</span><br><span class="line">    try:</span><br><span class="line">        with open(&apos;abc.txt&apos;, &apos;r&apos;) as f:</span><br><span class="line">            print(f.read())</span><br><span class="line">        print(&#123;&apos;a&apos;: 100&#125;[&apos;b&apos;])  # KeyError</span><br><span class="line">    except KeyError:</span><br><span class="line">        print(&apos;key不存在&apos;)</span><br><span class="line">    except FileNotFoundError:</span><br><span class="line">        print(&apos;文件不存在！&apos;)</span><br><span class="line"></span><br><span class="line">    print(&apos;~~~~~~~~~&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def method2():</span><br><span class="line">    print(&apos;==============2.try-except 错误类型===========&apos;)</span><br><span class="line">    try:</span><br><span class="line">        print(&#123;&apos;a&apos;: 100&#125;[&apos;b&apos;])  # KeyError</span><br><span class="line">        print(a)</span><br><span class="line">        print([1, 2, 3][4])  # IndexError</span><br><span class="line">    except (KeyError, IndexError):</span><br><span class="line">        print(&apos;出现异常&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def method1():</span><br><span class="line">    print(&apos;==============1.try-except===========&apos;)</span><br><span class="line">    # try:</span><br><span class="line">    #     number = int(input(&apos;请输入一个数字:&apos;))</span><br><span class="line">    #     print(number)</span><br><span class="line">    # except:</span><br><span class="line">    #     print(&apos;出现异常,输入有误！&apos;)</span><br><span class="line"></span><br><span class="line">    try:</span><br><span class="line">        print(&apos;abc&apos;[4])   # IndexError</span><br><span class="line">        print(&apos;=======&apos;)</span><br><span class="line">        print(&#123;&apos;a&apos;: 10&#125;[&apos;b&apos;])  # KeyError</span><br><span class="line">    except:</span><br><span class="line">        print(&apos;出现异常!&apos;)</span><br></pre></td></tr></table></figure>
<h5 id="练习-输入数字-保存成int类型，如果输入有误就继续输入，直到输入正确为止"><a href="#练习-输入数字-保存成int类型，如果输入有误就继续输入，直到输入正确为止" class="headerlink" title="练习: 输入数字,保存成int类型，如果输入有误就继续输入，直到输入正确为止!"></a>练习: 输入数字,保存成int类型，如果输入有误就继续输入，直到输入正确为止!</h5><h5 id="输入数字-12a-输入有误，继续输入-输入数字-a12-输入有误，继续输入-…-输入数字-23"><a href="#输入数字-12a-输入有误，继续输入-输入数字-a12-输入有误，继续输入-…-输入数字-23" class="headerlink" title="输入数字: 12a   输入有误，继续输入!  输入数字:a12   输入有误，继续输入!  … 输入数字: 23"></a>输入数字: 12a   输入有误，继续输入!  输入数字:a12   输入有误，继续输入!  … 输入数字: 23</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">def method11():</span><br><span class="line">    print(&apos;==============1.try-except===========&apos;)</span><br><span class="line">    while True:</span><br><span class="line">        try:</span><br><span class="line">            number = int(input(&apos;输入数字:&apos;))</span><br><span class="line">            print(&apos;输入正确:&apos;, number)</span><br><span class="line">            break</span><br><span class="line">        except:</span><br><span class="line">            print(&apos;输入有误，继续输入!&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    # method1()</span><br><span class="line">    # method11()</span><br><span class="line">    method3()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

    </div>

    <div class="totop">ToTOP</div>
</div>
        <div class="footer">
    <a href="#">
        2018 <i class="fab fa-studiovinari"></i> John Doe <i class="fas fa-angle-double-up"></i>
    </a>
</div>

<script src="/js/totop.js"></script>
<script src="/js/search.js"></script>
    </div>
</body>

</html>